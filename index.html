<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My Notes Uploader</title>

<!-- Firebase SDKs MUST be here -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
body { font-family: Arial; background:#f4f4f4; padding:20px; }
.note { background:#fff; padding:10px; margin-bottom:10px; }
textarea { width:100%; height:100px; }
</style>
</head>

<body>

<h1>My Notes</h1>
<input type="file" id="fileInput" accept=".txt">
<ul id="notesList"></ul>

<script>
/* ðŸ”¹ FIREBASE CONFIG (REPLACE WITH YOUR OWN) */
const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT.firebaseapp.com",
  projectId: "YOUR_PROJECT_ID"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

const fileInput = document.getElementById("fileInput");
const notesList = document.getElementById("notesList");

/* ðŸ”¹ Upload note */
fileInput.addEventListener("change", () => {
  const file = fileInput.files[0];
  if (!file) return;

  const reader = new FileReader();
  reader.onload = () => {
    db.collection("notes").add({
      filename: file.name,
      content: reader.result,
      timestamp: Date.now()
    });
  };
  reader.readAsText(file);
});

/* ðŸ”¹ Display notes (LIVE) */
db.collection("notes")
  .orderBy("timestamp", "desc")
  .onSnapshot(snapshot => {
    notesList.innerHTML = "";
    snapshot.forEach(doc => {
      const note = doc.data();
      const li = document.createElement("li");
      li.className = "note";
      li.innerHTML = `
        <strong>${note.filename}</strong>
        <textarea readonly>${note.content}</textarea>
      `;
      notesList.appendChild(li);
    });
  });
</script>

</body>
</html>
